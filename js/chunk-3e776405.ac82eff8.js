(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e776405"],{ddcb:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"kv"},[a("div",{staticClass:"title"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"col-md-6"},[a("h2",[t._v(t._s(t.title))])])])])])])},c=[],e={props:{title:{type:String,default:""}},data:function(){return{}}},n=e,o=a("2877"),r=Object(o["a"])(n,i,c,!1,null,null,null);s["a"]=r.exports},ed84:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"front front-products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("HeroBanner",{attrs:{title:t.title}}),a("section",{staticClass:"zones zone_category"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"wrap d-flex justify-content-center "},t._l(t.categories,(function(s){return a("div",{key:s.category,staticClass:"category"},[a("button",{staticClass:"btn shadow d-flex flex-column justify-content-center align-items-center",class:"btn-"+s.category,attrs:{type:"button"},on:{click:function(a){return t.filterProducts(s.category)}}},[a("img",{staticClass:"icon",attrs:{src:"./images/"+s.iconImg,alt:s.zh}}),a("h4",[t._v(t._s(s.zh))])])])})),0)])])])]),a("section",{staticClass:"zones zone_products"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row row-cols-1 row-cols-md-2 row-cols-lg-3"},t._l(t.filterCategories,(function(s){return a("div",{key:s.id,staticClass:"col mb-4"},[a("div",{staticClass:"card h-100",attrs:{disabled:s.id===t.status.loadingItem},on:{click:function(a){return a.preventDefault(),t.getProduct(s.id)}}},[a("span",{staticClass:"badge badge-pill",class:"badge-"+s.category},[t._v(" "+t._s(s.category))]),a("div",{staticClass:"img-wrap"},[a("img",{staticClass:"card-img-top",attrs:{src:s.imageUrl[0]}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(" "+t._s(s.title)+" ")]),a("p",{staticClass:"ellipsis"},[t._v(" "+t._s(s.content)+" ")]),a("p",{staticClass:"prices d-flex justify-content-between align-items-center"},[a("span",{staticClass:"price_origin"},[t._v(t._s(t._f("money")(s.origin_price))+"/人")]),a("span",{staticClass:"price_discount"},[t._v(t._s(t._f("money")(s.price))+"/人")])])]),a("button",{staticClass:"btn btn-secondary btn-addTocart",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addToCart(s.id)}}},[t._m(0,!0),t._v(" 我要報名 ")])])])})),0)])])],1)},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("span",[a("i",{staticClass:"fas fa-shopping-cart"})])}],e=(a("99af"),a("4de4"),a("ddcb")),n={components:{HeroBanner:e["a"]},data:function(){return{title:"用心為您規劃的精美行程",isLoading:!1,products:[],status:{loadingItem:""},categories:[{zh:"全部",category:"world",iconImg:"icon-world.png"},{zh:"亞洲",category:"asia",iconImg:"icon-asia.png"},{zh:"美洲",category:"america",iconImg:"icon-america.png"},{zh:"非洲",category:"africa",iconImg:"icon-africa.png"},{zh:"大洋洲",category:"oceania",iconImg:"icon-oceania.png"}],filterCategories:""}},created:function(){this.getProducts()},methods:{filterProducts:function(t){var s=this;this.filterCategories=this.products.filter((function(a){return"world"===t||""===t?s.products:a.category===t}))},getProducts:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://course-ec-api.hexschool.io/api","/").concat("27645507-6c88-4d1b-816f-1587210ac2be","/ec/products")).then((function(s){var a=t.$route.params.pathCategory;t.isLoading=!1,t.products=s.data.data,a?t.filterProducts(a):t.filterCategories=t.products})).catch((function(){t.isLoading=!1}))},getProduct:function(t){this.$router.push("/product/".concat(t))},addToCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("27645507-6c88-4d1b-816f-1587210ac2be","/ec/shopping"),c={product:t,quantity:a};this.$http.post(i,c).then((function(){s.isLoading=!1,s.$bus.$emit("get-cart"),s.$bus.$emit("msg:push","商品成功加入購物車~","success")})).catch((function(t){s.isLoading=!1,s.$bus.$emit("msg:push","出現錯誤！ ".concat(t.response.data.errors[0]),"danger")}))}}},o=n,r=a("2877"),l=Object(r["a"])(o,i,c,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-3e776405.ac82eff8.js.map