(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8181f1f6"],{b6d4:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"front front-favorite"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("HeroBanner",{attrs:{title:t.title}}),i("section",{staticClass:"zones zone_favorites"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row justify-content-center"},[t.favoriteList.length?i("div",{staticClass:"col-md-8"},[i("h3",{staticClass:"border-bottom pb-3 mb-3"},[t._v(" 收藏清單列表 ")]),t._l(t.favoriteList,(function(s){return i("div",{key:s.id,staticClass:"d-flex bg-light align-items-center mb-4"},[i("div",{staticClass:"img-wrap pl-3"},[i("img",{attrs:{src:s.imageUrl[0]}})]),i("div",{staticClass:"w-100 p-3 position-relative"},[i("a",{staticClass:"position-absolute close",staticStyle:{top:"16px",right:"16px"},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.delFavorite(s.id)}}},[i("i",{staticClass:"fas fa-times"})]),i("p",{staticClass:"mb-0 font-weight-bold pr-4 text-africa"},[t._v(" "+t._s(s.title)+" ")]),i("p",{staticClass:"prices"},[i("span",{staticClass:"price_origin"},[t._v(" 原價："+t._s(t._f("money")(s.origin_price))+"/人")])]),i("p",{staticClass:"mb-1 text-muted",staticStyle:{"font-size":"14px"}},[t._v(" 特價："+t._s(t._f("money")(s.price))+" / "+t._s(s.unit)+" ")]),i("div",{staticClass:"d-flex justify-content-end"},[i("button",{staticClass:" mt-2 btn btn-secondary",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.toProduct(s.id)}}},[t._v(" 了解更多 "),t._m(0,!0)])])])])}))],2):i("div",{staticClass:"col-md-8"},[i("h3",{staticClass:"border-bottom pb-3 mb-3"},[t._v(" 您尚未有任何收藏行程喔！ ")]),i("div",{staticClass:"d-flex justify-content-end"},[i("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/products"}},[t._v(" 前去逛逛 "),i("span",[i("i",{staticClass:"fas fa-chevron-right"})])])],1)])])])]),i("section",{staticClass:"zones zone_popular"},[i("div",{staticClass:"container"},[t._m(1),i("div",{staticClass:"row row-cols-1 row-cols-md-2 row-cols-lg-3"},t._l(t.populars,(function(s){return i("div",{key:s.id,staticClass:"col mb-4"},[i("div",{staticClass:"card h-100 border-0 shadow-sm"},[i("div",{staticClass:"img-wrap"},[i("img",{staticClass:"card-img-top",attrs:{src:s.imageUrl[0]}})]),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[t._v(" "+t._s(s.title)+" ")]),i("p",{staticClass:"card-text ellipsis"},[t._v(" "+t._s(s.content)+" ")]),i("p",{staticClass:"prices d-flex justify-content-between align-items-center"},[i("span",{staticClass:"price_origin"},[t._v(t._s(t._f("money")(s.origin_price))+"/人")]),i("span",{staticClass:"price_discount"},[t._v(t._s(t._f("money")(s.price))+"/人")])]),i("button",{staticClass:" mt-3 btn btn-outline-secondary btn-addTocart btn-block",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.toProduct(s.id)}}},[t._v(" 前往查看 "),t._m(2,!0)])])])])})),0)])])],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[i("i",{staticClass:"fas fa-chevron-right"})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("h3",{staticClass:"mb-5 title-dec"},[i("span",{staticClass:"circle"}),i("span",{staticClass:"txt text-primary"},[t._v("熱門推薦")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[i("i",{staticClass:"fas fa-chevron-right"})])}],n=(i("99af"),i("4de4"),i("c975"),i("a434"),i("ddcb")),c={components:{HeroBanner:n["a"]},data:function(){return{isLoading:!1,title:"我的收藏行程",products:[],status:{loadingItem:""},favoriteList:[],favorites:JSON.parse(localStorage.getItem("favoritesID"))||[]}},computed:{populars:function(){return this.products.filter((function(t){return t.options.popular}))}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://course-ec-api.hexschool.io/api","/").concat("27645507-6c88-4d1b-816f-1587210ac2be","/ec/products")).then((function(s){t.isLoading=!1,t.products=s.data.data,t.getFavorites()})).catch((function(){t.isLoading=!1}))},toProduct:function(t){this.$router.push("/product/".concat(t))},getFavorites:function(){var t=this;this.favoriteList=this.products.filter((function(s){return t.favorites.indexOf(s.id)>-1}))},delFavorite:function(t){var s=this.favorites.indexOf(t);-1!==s&&(this.favorites.splice(s,1),this.$bus.$emit("msg:push","已取消此筆收藏","danger")),localStorage.setItem("favoritesID",JSON.stringify(this.favorites)),this.getProducts()}}},r=c,o=i("2877"),l=Object(o["a"])(r,a,e,!1,null,null,null);s["default"]=l.exports},c975:function(t,s,i){"use strict";var a=i("23e7"),e=i("4d64").indexOf,n=i("a640"),c=i("ae40"),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:o||!l||!d},{indexOf:function(t){return o?r.apply(this,arguments)||0:e(this,t,arguments.length>1?arguments[1]:void 0)}})},ddcb:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"kv"},[i("div",{staticClass:"title"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row justify-content-end"},[i("div",{staticClass:"col-md-6"},[i("h2",[t._v(t._s(t.title))])])])])])])},e=[],n={props:{title:{type:String,default:""}},data:function(){return{}}},c=n,r=i("2877"),o=Object(r["a"])(c,a,e,!1,null,null,null);s["a"]=o.exports}}]);
//# sourceMappingURL=chunk-8181f1f6.e6d36a77.js.map