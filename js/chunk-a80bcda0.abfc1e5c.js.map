{"version":3,"sources":["webpack:///./src/views/front/Product.vue?34c4","webpack:///src/views/front/Product.vue","webpack:///./src/views/front/Product.vue?3f3a","webpack:///./src/views/front/Product.vue","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","product","imageUrl","style","_e","_v","_s","title","content","options","_m","departureCity","_f","origin_price","price","quantity","directives","name","rawName","value","expression","modifiers","domProps","target","composing","$set","_n","$forceUpdate","addToCart","id","status","loadingItem","updateFavorites","favorites","indexOf","description","_l","filterProduct","key","preventDefault","toProduct","staticRenderFns","data","products","JSON","parse","localStorage","getItem","computed","filterCategory","filter","created","getProduct","getProducts","winScroll","methods","$router","push","$http","favoriteId","$bus","$emit","splice","setItem","stringify","scroll","$","animate","component","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","proto","forced","searchElement","apply","arguments","length","undefined"],"mappings":"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","file":"js/chunk-a80bcda0.abfc1e5c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"front front-product\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.product.imageUrl[0])?_c('section',{staticClass:\"zones zone_detail_bg\",style:((\"background-image:url(\" + (_vm.product.imageUrl[0]) + \")\"))}):_vm._e(),_c('section',{staticClass:\"zones zone_detail\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7\"},[_c('div',{staticClass:\"img-wrap mb-3\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.product.imageUrl[0]}})])]),_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"product-wrap\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\" 首頁 \")])],1),_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\" 產品列表 \")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\" \"+_vm._s(_vm.product.title)+\" \")])])]),_c('h2',{staticClass:\"mb-lg-3 mb-4\"},[_vm._v(\" \"+_vm._s(_vm.product.title)+\" \")]),_c('p',[_vm._v(_vm._s(_vm.product.content))]),_c('ul',{staticClass:\"list-unstyled\"},[(_vm.product.options.popular)?_c('li',[_vm._m(0),_vm._v(\" 熱門商品 \")]):_vm._e(),_c('li',[_vm._m(1),_vm._v(\" 出發城市：\"+_vm._s(_vm.product.options.departureCity)+\" \")]),_vm._m(2),_vm._m(3)]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[_c('div',[_c('del',{staticClass:\"text-black-50\"},[_vm._v(\"原價 \"+_vm._s(_vm._f(\"money\")(_vm.product.origin_price)))])]),_c('div',{staticClass:\"text-secondary\"},[_vm._v(\" 特價 \"),_c('span',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm.product.price)))])])]),_c('form',[_c('div',{staticClass:\"form-row mt-3\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"disabled\":_vm.product.quantity === 1,\"type\":\"button\"},on:{\"click\":function($event){_vm.product.quantity -= 1}}},[_vm._m(4)])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.product.quantity),expression:\"product.quantity\",modifiers:{\"number\":true}}],staticClass:\"form-control text-center pl-4\",attrs:{\"type\":\"number\",\"min\":\"1\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":(_vm.product.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.product, \"quantity\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary \",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.product.quantity += 1}}},[_vm._m(5)])])])]),_c('div',{staticClass:\"form-group col-md-6\"},[_c('button',{staticClass:\"btn btn-secondary btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(_vm.product.id, _vm.product.quantity)}}},[(_vm.product.id === _vm.status.loadingItem)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_c('span',[_c('i',{staticClass:\"fas fa-shopping-cart\"})]),_vm._v(\" 立即報名 \")])])])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.product.quantity)?_c('div',{staticClass:\"text-muted text-nowrap mr-3\"},[_vm._v(\" 小計 \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"money\")(_vm.product.quantity * _vm.product.price || 0)))]),_vm._v(\" 元 \")]):_vm._e(),_c('button',{staticClass:\"btn btn-outline-secondary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFavorites(_vm.product.id)}}},[(_vm.favorites.indexOf(_vm.product.id) === -1)?_c('span',[_vm._m(6),_vm._v(\" 加入收藏 \")]):_c('span',[_vm._m(7),_vm._v(\" 已加入收藏 \")])])])])])])])]),_c('section',{staticClass:\"description-wrap zones\"},[_c('div',{staticClass:\"container \"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"description\"},[_vm._m(8),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.product.description)}})])])])])]),_c('section',{staticClass:\"zones zone_maylike\"},[_c('div',{staticClass:\"container\"},[_c('h3',{staticClass:\"mb-4\"},[_vm._v(\" 猜您可能會喜歡... \")]),_c('div',{staticClass:\"row row-cols-1 row-cols-md-2 row-cols-lg-3\"},_vm._l((_vm.filterCategory),function(filterProduct){return _c('div',{key:filterProduct.id,staticClass:\"col mb-4\"},[_c('div',{staticClass:\"card h-100 border-0 shadow-sm\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":filterProduct.imageUrl[0]}})]),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(filterProduct.title)+\" \")]),_c('p',{staticClass:\"card-text ellipsis\"},[_vm._v(\" \"+_vm._s(filterProduct.content)+\" \")]),_c('p',{staticClass:\"prices d-flex justify-content-between align-items-center\"},[_c('span',{staticClass:\"price_origin\"},[_vm._v(_vm._s(_vm._f(\"money\")(filterProduct.origin_price))+\"/人\")]),_c('span',{staticClass:\"price_discount\"},[_vm._v(_vm._s(_vm._f(\"money\")(filterProduct.price))+\"/人\")])]),_c('button',{staticClass:\" mt-3 btn btn-outline-secondary btn-addTocart btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toProduct(filterProduct.id)}}},[_vm._v(\" 前往查看 \"),_vm._m(9,true)])])])])}),0)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon icon-popular\"},[_c('i',{staticClass:\"fas fa-fire\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-plane-departure\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-users\"})]),_vm._v(\" 成團人數：15 人 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-dollar-sign\"})]),_vm._v(\" 費用已含：機場稅、燃油費 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"far fa-heart \"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-heart\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"mb-5 title-dec\"},[_c('span',{staticClass:\"circle\"}),_c('span',{staticClass:\"txt text-primary\"},[_vm._v(\"產品特色\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-chevron-right\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"front front-product\">\n    <loading :active.sync=\"isLoading\" />\n    <section\n      v-if=\"product.imageUrl[0]\"\n      class=\"zones zone_detail_bg\"\n      :style=\"`background-image:url(${product.imageUrl[0]})`\"\n    />\n    <section class=\"zones zone_detail\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-lg-7\">\n            <div class=\"img-wrap mb-3\">\n              <img\n                :src=\"product.imageUrl[0]\"\n                class=\"img-fluid\"\n              >\n            </div>\n          </div>\n          <div class=\"col-lg-5\">\n            <div class=\"product-wrap\">\n              <nav aria-label=\"breadcrumb\">\n                <ol class=\"breadcrumb\">\n                  <li class=\"breadcrumb-item\">\n                    <router-link to=\"/\">\n                      首頁\n                    </router-link>\n                  </li>\n                  <li class=\"breadcrumb-item\">\n                    <router-link to=\"/products\">\n                      產品列表\n                    </router-link>\n                  </li>\n                  <li\n                    class=\"breadcrumb-item active\"\n                    aria-current=\"page\"\n                  >\n                    {{ product.title }}\n                  </li>\n                </ol>\n              </nav>\n              <h2 class=\"mb-lg-3 mb-4\">\n                {{ product.title }}\n              </h2>\n              <p>{{ product.content }}</p>\n              <ul class=\"list-unstyled\">\n                <li v-if=\"product.options.popular\">\n                  <span class=\"icon icon-popular\">\n                    <i class=\"fas fa-fire\" />\n                  </span>\n                  熱門商品\n                </li>\n                <li>\n                  <span class=\"icon\">\n                    <i class=\"fas fa-plane-departure\" />\n                  </span>\n                  出發城市：{{ product.options.departureCity }}\n                </li>\n                <li>\n                  <span class=\"icon\">\n                    <i class=\"fas fa-users\" />\n                  </span>\n                  成團人數：15 人\n                </li>\n                <li>\n                  <span class=\"icon\">\n                    <i class=\"fas fa-dollar-sign\" />\n                  </span>\n                  費用已含：機場稅、燃油費\n                </li>\n              </ul>\n\n              <div class=\"d-flex justify-content-between align-items-baseline\">\n                <div>\n                  <del class=\"text-black-50\">原價 {{ product.origin_price | money }}</del>\n                </div>\n                <div class=\"text-secondary\">\n                  特價\n                  <span class=\"h4\">{{ product.price | money }}</span>\n                </div>\n              </div>\n              <form>\n                <div class=\"form-row mt-3\">\n                  <div class=\"form-group col-md-6\">\n                    <div class=\"input-group\">\n                      <div class=\"input-group-prepend\">\n                        <button\n                          :disabled=\"product.quantity === 1\"\n                          class=\"btn btn-outline-secondary\"\n                          type=\"button\"\n                          @click=\"product.quantity -= 1\"\n                        >\n                          <span><i class=\"fas fa-minus\" /></span>\n                        </button>\n                      </div>\n                      <input\n                        v-model.number=\"product.quantity\"\n                        type=\"number\"\n                        min=\"1\"\n                        class=\"form-control text-center pl-4\"\n                        aria-describedby=\"basic-addon1\"\n                      >\n                      <div class=\"input-group-append\">\n                        <button\n                          class=\"btn btn-outline-secondary \"\n                          type=\"button\"\n                          @click=\"product.quantity += 1\"\n                        >\n                          <span><i class=\"fas fa-plus\" /></span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-secondary btn-block\"\n                      @click=\"addToCart(product.id, product.quantity)\"\n                    >\n                      <span\n                        v-if=\"product.id === status.loadingItem\"\n                        class=\"spinner-border spinner-border-sm\"\n                        role=\"status\"\n                        aria-hidden=\"true\"\n                      />\n                      <span v-else>\n                        <i class=\"fas fa-shopping-cart\" />\n                      </span>\n\n                      立即報名\n                    </button>\n                  </div>\n                </div>\n              </form>\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <div\n                  v-if=\"product.quantity\"\n                  class=\"text-muted text-nowrap mr-3\"\n                >\n                  小計\n                  <strong>{{ product.quantity * product.price || 0 | money }}</strong> 元\n                </div>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary btn-sm\"\n                  @click=\"updateFavorites(product.id)\"\n                >\n                  <span v-if=\"favorites.indexOf(product.id) === -1\">\n                    <span><i class=\"far fa-heart \" /></span>\n                    加入收藏\n                  </span>\n                  <span v-else>\n                    <span><i class=\"fas fa-heart\" /></span>\n                    已加入收藏\n                  </span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"description-wrap zones\">\n      <div class=\"container \">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-12\">\n            <div class=\"description\">\n              <h3 class=\"mb-5 title-dec\">\n                <span class=\"circle\" /><span class=\"txt text-primary\">產品特色</span>\n              </h3>\n              <div v-html=\"product.description\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"zones zone_maylike\">\n      <div class=\"container\">\n        <h3 class=\"mb-4\">\n          猜您可能會喜歡...\n        </h3>\n        <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3\">\n          <div\n            v-for=\"filterProduct in filterCategory\"\n            :key=\"filterProduct.id\"\n            class=\"col mb-4\"\n          >\n            <div class=\"card h-100 border-0 shadow-sm\">\n              <div class=\"img-wrap\">\n                <img\n                  :src=\"filterProduct.imageUrl[0]\"\n                  class=\"card-img-top\"\n                >\n              </div>\n\n              <div class=\"card-body\">\n                <h5 class=\"card-title\">\n                  {{ filterProduct.title }}\n                </h5>\n                <p class=\"card-text ellipsis\">\n                  {{ filterProduct.content }}\n                </p>\n                <p class=\"prices d-flex justify-content-between align-items-center\">\n                  <span class=\"price_origin\">{{ filterProduct.origin_price | money }}/人</span>\n                  <span class=\"price_discount\">{{ filterProduct.price | money }}/人</span>\n                </p>\n                <button\n                  type=\"button\"\n                  class=\" mt-3 btn btn-outline-secondary btn-addTocart btn-block\"\n                  @click.prevent=\"toProduct(filterProduct.id)\"\n                >\n                  前往查看 <span><i class=\"fas fa-chevron-right\" /></span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\n/* global $ */\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      product: {\n        imageUrl: [],\n        options: {},\n        quantity: 1,\n      },\n      products: [],\n      status: {\n        loadingItem: '',\n      },\n      favorites: JSON.parse(localStorage.getItem('favoritesID')) || [],\n    };\n  },\n  computed: {\n    filterCategory() {\n      return this.products.filter((item) => item.id !== this.product.id\n        && item.category === this.product.category);\n    },\n  },\n  created() {\n    this.getProduct();\n    this.getProducts();\n    this.winScroll();\n  },\n  methods: {\n    toProduct(id) {\n      this.$router.push(`/product/${id}`);\n      this.getProduct();\n      this.winScroll();\n    },\n    getProducts() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/products`,\n        )\n        .then((res) => {\n          this.isLoading = false;\n          this.products = res.data.data;\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    getProduct() {\n      this.isLoading = true;\n\n      // 屬性 $route\n      // 方法 $router\n      // 取得網址上帶進來的 id\n      // console.log(this.$route.params.id);\n\n      // ↓ es6 的寫法，Airbnb 的模式下必須寫 es6 才不會報錯\n      const { id } = this.$route.params;\n\n      this.$http\n        .get(\n          `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/product/${id}`,\n        )\n        .then((res) => {\n          this.isLoading = false;\n\n          this.product = res.data.data;\n          this.$set(this.product, 'quantity', 1);\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    addToCart(id, quantity = 1) {\n      this.isLoading = true;\n      this.status.loadingItem = id;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const newCart = {\n        product: id,\n        quantity,\n      };\n      this.$http\n        .post(api, newCart)\n        .then(() => {\n          this.isLoading = false;\n          this.status.loadingItem = '';\n          this.$bus.$emit('msg:push', '商品成功加入購物車~', 'success');\n          this.$bus.$emit('get-cart');\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.status.loadingItem = '';\n          this.$bus.$emit(\n            'msg:push',\n            `出現錯誤！ ${err.response.data.errors[0]}`,\n            'danger',\n          );\n        });\n    },\n    updateFavorites(id) {\n      const favoriteId = this.favorites.indexOf(id);\n      if (favoriteId === -1) {\n        this.favorites.push(id);\n        this.$bus.$emit('msg:push', '已新增此筆收藏', 'success');\n      } else {\n        this.favorites.splice(favoriteId, 1);\n        this.$bus.$emit('msg:push', '已取消此筆收藏', 'danger');\n      }\n      localStorage.setItem('favoritesID', JSON.stringify(this.favorites));\n    },\n    winScroll() {\n      const scroll = $(window).scrollTop();\n      if (scroll >= 10) {\n        $('html,body').animate(\n          {\n            scrollTop: 0,\n          },\n          700,\n        );\n      }\n    },\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=29bf30cd&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}